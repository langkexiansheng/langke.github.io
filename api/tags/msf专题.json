{"name":"msf专题","slug":"msf专题","count":1,"postlist":[{"title":"针对性扫描-Metasploit","slug":"针对性扫描-Metasploit","date":"2018-10-17T06:10:45.000Z","updated":"2018-10-17T09:10:45.482Z","comments":true,"path":"api/articles/针对性扫描-Metasploit.json","excerpt":"","keywords":null,"cover":"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/search_ms.png","content":"<h5 id=\"前情提要\"><a href=\"#前情提要\" class=\"headerlink\" title=\"前情提要\"></a>前情提要</h5><pre><code>针对性扫描是指寻找目标网络中存在的已知可利用漏洞或能够轻松获取后门的特定操作系统、服务、软件以及配置缺陷。\n举例来说，可以利用msf快速扫描特定网段中存在的ms08-067漏洞，并且能够很快的获取system的访问权限，比扫描整个网络的所有漏洞快很多。\n</code></pre><p><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/search_ms.png\" alt=\"搜搜特定字符\"></p>\n<h3 id=\"服务器消息块协议扫描\"><a href=\"#服务器消息块协议扫描\" class=\"headerlink\" title=\"服务器消息块协议扫描\"></a>服务器消息块协议扫描</h3><blockquote>\n<p><strong>服务器消息块</strong>（Server Message Block，缩写为SMB），又称<strong>网上文件共享系统</strong>（Common Internet File System，缩写为CIFS），一种应用层网络传输协议，由微软开发，主要功能是使网络上的机器能够共享计算机文件、打印机、串行端口和通讯等资源。</p>\n</blockquote>\n<p>可以利用msf的smb_version模块来遍历一个网段，并获取windows系统的版本号。<br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/smb_saomiao.png\" alt=\"smb扫描配图\"><br>扫描结果将保存在Metasploit的数据库中以便后续使用。<br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/db_hosts.png\" alt=\"主机查看\"></p>\n<h3 id=\"SSH服务器扫描\"><a href=\"#SSH服务器扫描\" class=\"headerlink\" title=\"SSH服务器扫描\"></a>SSH服务器扫描</h3><blockquote>\n<p>SSH虽然是一种安全的协议，但这里的安全仅指数据传输的加密，很多版本的ssh应用被发现了安全漏洞。</p>\n</blockquote>\n<p>可以利用msf框架的ssh_version模块来识别目标服务器的SSH版本。这里的版本信息不是很详细，后续可以利用nmap获取更详细的版本。</p>\n<p><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/ssh_version.png\" alt=\"ssh_version\"></p>\n<h3 id=\"FTP扫描\"><a href=\"#FTP扫描\" class=\"headerlink\" title=\"FTP扫描\"></a>FTP扫描</h3><blockquote>\n<p>FTP是一种复杂且缺乏安全性的应用层协议。</p>\n</blockquote>\n<p>我们使用msf框架的ftp_version模块来扫描<br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/ftp_version.png\" alt=\"ftp-版本探测\"><br>我们还可以利用msf的scanner/ftp/anonymous模块扫描是否允许匿名登陆。可以看到，还是会走运的。内网渗透的时候弱口令还是会有惊喜的。<br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/ftp_niming.png\" alt=\"允许匿名的主机\"></p>\n<h3 id=\"简单网管协议扫描\"><a href=\"#简单网管协议扫描\" class=\"headerlink\" title=\"简单网管协议扫描\"></a>简单网管协议扫描</h3><blockquote>\n<p><strong>简单网管协议</strong>（SNMP）通常用于网络设备中，用来报告带宽利用率、冲突率以及其他信息。可访问的SNMP服务器能够泄露关于特定系统相当多的信息，甚至会导致设备被远程攻陷。<br>可以利用MSF框架的辅助模块scanner/snmp/snmp_enum，可以发现，此内网中并没有这样的服务。<br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/snmp_version.png\" alt=\"snmp扫描\"></p>\n</blockquote>\n<h3 id=\"写在后面的话\"><a href=\"#写在后面的话\" class=\"headerlink\" title=\"写在后面的话\"></a>写在后面的话</h3><p>最后，查看了下内网所有主机的系统名字，可以看到，没有一台主机用的<code>XP</code>，<code>XP</code>系统是真的要退出历史舞台了。window 8的也就一台，失败的产品。<br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/Metasploit/os_name_xpwin8.png\" alt=\"XP系统\"></p>\n","text":"前情提要针对性扫描是指寻找目标网络中存在的已知可利用漏洞或能够轻松获取后门的特定操作系统、服务、软件以及配置缺陷。举例来说，可以利用msf快速扫描特定网段中存在的ms08-067漏洞，并且能够很快的获取system的访问权限，比扫描整个网络的所有漏洞快很多。 [Figure] ","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"msf专题","slug":"msf专题","count":1,"path":"api/tags/msf专题.json"}]}]}