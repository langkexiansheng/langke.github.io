{"title":"","date":"2018-09-24T16:09:19.091Z","updated":"2017-08-13T16:39:44.000Z","comments":true,"path":"api/pages/about/index.js","covers":null,"excerpt":null,"content":"/*\n * Noel Delgado | @pixelia_me\n */\n\nvar items = []\n  , point = document.querySelector('svg').createSVGPoint();\n\nfunction getCoordinates(e, svg) {\n  point.x = e.clientX;\n  point.y = e.clientY;\n  return point.matrixTransform(svg.getScreenCTM().inverse());\n}\n\nfunction changeColor(e) {\n  document.body.className = e.currentTarget.className;\n}\n\nfunction Item(config) {\n  Object.keys(config).forEach(function (item) {\n    this[item] = config[item];\n  }, this);\n  this.el.addEventListener('mousemove', this.mouseMoveHandler.bind(this));\n  this.el.addEventListener('touchmove', this.touchMoveHandler.bind(this));\n}\n\nItem.prototype = {\n  update: function update(c) {\n    this.clip.setAttribute('cx', c.x);\n    this.clip.setAttribute('cy', c.y);\n  },\n  mouseMoveHandler: function mouseMoveHandler(e) {\n    this.update(getCoordinates(e, this.svg));\n  },\n  touchMoveHandler: function touchMoveHandler(e) {\n    e.preventDefault();\n    var touch = e.targetTouches[0];\n    if (touch) return this.update(getCoordinates(touch, this.svg));\n  }\n};\n\n[].slice.call(document.querySelectorAll('.item'), 0).forEach(function (item, index) {\n  items.push(new Item({\n    el: item,\n    svg: item.querySelector('svg'),\n    clip: document.querySelector('#clip-'+index+' circle'),\n  }));\n});\n\n[].slice.call(document.querySelectorAll('button'), 0).forEach(function (button) {\n  button.addEventListener('click', changeColor);\n});"}