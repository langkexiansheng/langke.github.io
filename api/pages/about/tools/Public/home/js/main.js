{"title":"","date":"2018-09-28T10:09:52.001Z","updated":"2018-05-28T03:50:05.000Z","comments":true,"path":"api/pages/about/tools/Public/home/js/main.js","covers":null,"excerpt":null,"content":"$(function(){\n    /*\n     */\n    var href = \"\";\n    var pos = 0;\n    $(\".nav-tags a\").click(function(e){\n        $(\".nav-tags li\").each(function () {\n            $(this).removeClass(\"active\");\n        });\n        $(this).parent(\"li\").addClass(\"active\");\n        e.preventDefault();\n        href = $(this).attr(\"href\");\n        pos = $(href).position().top - 30;\n        $(\"html,body\").animate({ scrollTop: pos }, 500);\n    });\n    $(\".nav-item.active\").next().css(\"display\", \"block\");\n\n    $.fn.linkFavour = function() {\n        var id = $(this).data(\"id\"),\n            action = $(this).data('action'),\n            rateHolder = $(this).children('.count');\n        if ($(this).hasClass('done')) {\n            $(this).removeClass('done');\n            var _this = $(this);\n            var ajaxData = {\n                linkId: id,\n            };\n            $.ajax({\n                type: \"POST\",\n                url: currentController+\"/ajaxFavour\",\n                data: ajaxData,\n                beforeSend: function () {\n                    // _this.find('i').animate({\n                    //     \"fontSize\": \"15px\"\n                    // }, 1, function () {\n                    //     $(this).animate({\n                    //         \"fontSize\": \"15px\"\n                    //     }, 1);\n                    // });\n\n                },\n                success: function(data) {\n                    $(rateHolder).html(data);\n                }\n            });\n            return false;\n        } else {\n            $(this).addClass('done');\n            var _this = $(this);\n            var ajaxData = {\n                linkId: id,\n            };\n            $.ajax({\n                type: \"POST\",\n                url: currentController+\"/ajaxFavour\",\n                data: ajaxData,\n                beforeSend: function () {\n                    // _this.find('i').animate({\n                    //     \"fontSize\": \"15px\"\n                    // }, 1, function () {\n                    //     $(this).animate({\n                    //         \"fontSize\": \"15px\"\n                    //     }, 1);\n                    // });\n\n                },\n                success: function(data) {\n                    $(rateHolder).html(data);\n                }\n            });\n            return false;\n        }\n    };\n    $(document).on(\"click\", \".favour\", function() {\n        $(this).linkFavour();\n    });\n\n    $(\".btn-mobile-sidenav\").click(function () {\n        if ($(this).find(\".nav-bar\").hasClass(\"nav-bar-animate\")) {\n            $(this).find(\".nav-bar\").removeClass(\"nav-bar-animate\");\n            $(\".sidenav\").removeClass(\"show-sidenav\").addClass(\"hide-sidenav\");\n            $(\".mobile-header-wrap .sidenav-mark\").animate({\n                opacity: 0,\n            }, 500, function(){\n                $(this).remove();\n            });\n            $('body').css({\n                'overflow': 'auto'\n            });\n        } else {\n            $(this).find(\".nav-bar\").addClass(\"nav-bar-animate\");\n            $(\".sidenav\").addClass(\"show-sidenav\").removeClass(\"hide-sidenav\");\n            $(\".mobile-header-wrap\").append(\"<div class=\"sidenav-mark\"></div>\");\n            $('body').css({\n                'overflow': 'hidden'\n            });\n        }\n    });\n\n    // var UA = navigator.userAgent.toLowerCase();\n    // var scrollWidth = 0;\n    // if(UA.indexOf(\"chrome\")>0 && UA.indexOf(\"edge\")<0) {=\"\" scrollwidth=\"4px\" ;=\"\" }=\"\" else=\"\" if=\"\" (ua.indexof(\"edge\")=\"\">0) {\n    //     scrollWidth = \"12px\";\n    // } else {\n    //     scrollWidth = \"17px\";\n    // }\n\n    // $(\".sidenav\").hover(\n    //     function(){\n    //         $('body').css({\n    //             'overflow': 'hidden',\n    //             'paddingRight': scrollWidth,\n    //         });\n    //     },\n    //     function(){\n    //         $('body').css({\n    //             'overflow': 'auto',\n    //             'paddingRight': \"0px\",\n    //         });\n    //     }\n    // );\n    var x = 10;\n    var y = 20;\n\n    /**\n     * Show Tooltip\n     * start\n     */\n    $(\"a.link-tooltip\").mousemove(function(e){\n        var linkTooltip = $(\"#link-tooltip\");\n        if(!linkTooltip.length){\n            this.tooltipTitle = this.title;\n            this.title = \"\";\n            linkTooltip = $(\"<div id=\"link-tooltip\"><div class=\"tooltip-content\">\"+this.tooltipTitle+\"</div></div>\");\n            $(\"body\").append(linkTooltip);\n        }\n\n        linkTooltip.css({\n            \"top\": (e.pageY+y) + \"px\",\n            \"left\": (e.pageX+x) + \"px\"\n        }).show(\"fast\");\n\n    }).mouseout(function(){\n        this.title = this.tooltipTitle;\n        $(\"#link-tooltip\").remove();\n    });\n    /**\n     * Show Tooltip\n     * end\n     */\n\n    $(\".tool-img\").each(function () {\n        $(this).bind({\n            mouseenter: function () {\n                $(this).find(\".tool-platform\").slideDown(160);\n            },\n            mouseleave: function () {\n                $(this).find(\".tool-platform\").slideUp(160);\n            }\n        });\n    });\n\n    Navigator.init();\n});\n\nvar Navigator = {\n\n    wrapper: null,\n\n    transition: 'transform 0.5s',\n\n    itemHeight: 43,\n\n    displayedItem: 1,\n\n    autoPlaySpeed:8,\n\n    playing: false,\n\n    init : function()\n    {\n        var ins = this;\n\n        this.wrapper = $('.selected-nav-link-wrapper');\n\n        if(!this.wrapper.size()) return;\n\n        this.wrapper.get(0).style.transition = this.transition;\n\n        this.wrapper.on('transitionend WebkitAnimationEnd', function(){\n            ins.animationEnd();\n        });\n\n        $('.navigator .up').click(function(){\n            ins.playUp();\n            return false;\n        });\n\n        $('.navigator .down').click(function(){\n            ins.playDown();\n            return false;\n        });\n\n        this.autoPlayStart();\n\n        $('.selected-nav').on('mouseover', function(){ ins.autoPlayStop(); });\n        $('.selected-nav').on('mouseout', function(){ ins.autoPlayStart(); });\n    },\n\n    playUp: function()\n    {\n        if(this.playing) return;\n\n        this.playing = true;\n\n        var offsetPx = -this.displayedItem * this.itemHeight + this.itemHeight;\n        this.wrapper.get(0).style.transform = 'translateY('+ offsetPx +'px)';\n\n        this.displayedItem--;\n    },\n\n    playDown: function()\n    {   \n        if(this.playing) return;\n\n        this.playing = true;\n\n        var offsetPx = -this.displayedItem*this.itemHeight - this.itemHeight;\n        this.wrapper.get(0).style.transform = 'translateY('+ offsetPx +'px)';\n\n        this.displayedItem++;\n    },\n\n    autoPlayStart: function()\n    {\n        var ins = this;\n        window.NavigatorAutoPlayT = setInterval(function(){ins.playDown()}, this.autoPlaySpeed*1000);\n    },\n\n    autoPlayStop: function()\n    {\n        clearInterval(window.NavigatorAutoPlayT);\n    },\n\n    animationEnd : function()\n    {\n        var ins = this;\n\n        if(this.playing) this.playing = false;\n        else this.wrapper.get(0).style.transition = this.transition;\n\n        if(this.displayedItem > this.wrapper.children().size() - 2)\n        {\n            this.displayedItem = 1;\n            this.wrapper.get(0).style.transition = 'transform 0s';\n            this.wrapper.get(0).style.transform = 'translateY('+ -this.displayedItem*this.itemHeight +'px)';\n\n            setTimeout(function(){ins.animationEnd()}, 100);\n        }\n        else if(this.displayedItem == 0)\n        {\n            this.displayedItem = this.wrapper.children().size() - 2;\n            this.wrapper.get(0).style.transition = 'transform 0s';\n            this.wrapper.get(0).style.transform = 'translateY('+ -this.displayedItem*this.itemHeight +'px)';\n\n            setTimeout(function(){ins.animationEnd()}, 100);\n        }\n    }\n}\n        </0)>"}