{"title":"中间件-redis","slug":"中间件-redis","date":"2018-11-10T00:48:47.000Z","updated":"2018-11-10T11:12:33.220Z","comments":true,"path":"api/articles/中间件-redis.json","photos":[],"link":"","excerpt":"redis下载安装官网,选择合适的版本下载。","covers":["https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/中间件/redis_start_page.png"],"content":"<h1 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h1><h2 id=\"下载安装\"><a href=\"#下载安装\" class=\"headerlink\" title=\"下载安装\"></a>下载安装</h2><p><a href=\"https://redis.io/download\" target=\"_blank\" rel=\"noopener\">官网</a>,选择合适的版本下载。</p>\n<a id=\"more\"></a>\n<p>我选了Linux的最新版,命令如下：<br><code>wget http://download.redis.io/releases/redis-5.0.0.tar.gz</code><br><code>tar -zxvf redis-5.0.0.tar.gz</code><br><code>cd redis-5.0.0</code><br><code>make</code><br><code>make</code>命令完成后，<code>src</code>目录下会多出两个文件</p>\n<ul>\n<li><code>redis-server</code>服务端</li>\n<li><code>redis-cli</code>客户端<h2 id=\"启动\"><a href=\"#启动\" class=\"headerlink\" title=\"启动\"></a>启动</h2><blockquote>\n<p>启动服务端 <code>./redis-server</code><br>进入数据库 <code>./redis-cli</code><br>配置文件<code>redis-conf</code><br><img src=\"https://bj.bcebos.com/v1/image-langke/hexo-neirongpeitu/中间件/redis_start_page.png\" alt=\"\"></p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h2><ul>\n<li><p>String（字符型）<br>string 类型是二进制安全的。意思是 redis 的 string 可以包含任何数据。比如jpg图片或者序列化的对象。<br>string 类型是 Redis 最基本的数据类型，string 类型的值最大能存储 512MB。<br><strong>例</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; SET lang &quot;ke&quot;</span><br><span class=\"line\">OK</span><br><span class=\"line\">127.0.0.1:6379&gt; GET lang</span><br><span class=\"line\">&quot;ke&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Hash（哈希）<br>Redis hash 是一个键值(key=&gt;value)对集合。<br>Redis hash 是一个 string 类型的 field 和 value 的映射表，hash 特别适合用于存储对象。<br><strong>例</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; HMSET myhash field1 &quot;Hello&quot; field2 &quot;World&quot;</span><br><span class=\"line\">&quot;OK&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; HGET myhash field1</span><br><span class=\"line\">&quot;Hello&quot;</span><br><span class=\"line\">127.0.0.1:6379&gt; HGET myhash field2</span><br><span class=\"line\">&quot;World&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>List（列表）<br>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）。<br>列表最多可存储 232 - 1 元素 (4294967295, 每个列表可存储40多亿)。<br><strong>例</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; lpush runoob redis</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush runoob mongodb</span><br><span class=\"line\">(integer) 2</span><br><span class=\"line\">127.0.0.1:6379&gt; lpush runoob rabitmq</span><br><span class=\"line\">(integer) 3</span><br><span class=\"line\">127.0.0.1:6379&gt; lrange runoob 0 10</span><br><span class=\"line\">1) &quot;rabitmq&quot;</span><br><span class=\"line\">2) &quot;mongodb&quot;</span><br><span class=\"line\">3) &quot;redis&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Set（集合）<br>Redis的Set是string类型的无序集合。<br>集合是通过哈希表实现的，所以添加，删除，查找的复杂度都是O(1)。<br>集合中最大的成员数为 232 - 1(4294967295, 每个集合可存储40多亿个成员)。<br><strong>例</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; sadd runoob redis</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd runoob mongodb</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd runoob rabitmq</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; sadd runoob rabitmq</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; smembers runoob</span><br><span class=\"line\"></span><br><span class=\"line\">1) &quot;redis&quot;</span><br><span class=\"line\">2) &quot;rabitmq&quot;</span><br><span class=\"line\">3) &quot;mongodb&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Zset（无需集合）<br>Redis zset 和 set 一样也是string类型元素的集合,且不允许重复的成员。<br>不同的是每个元素都会关联一个double类型的分数。redis正是通过分数来为集合中的成员进行从小到大的排序。<br>zset的成员是唯一的,但分数(score)却可以重复。<br><strong>例</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">127.0.0.1:6379&gt; zadd runoob 0 redis</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd runoob 0 mongodb</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd runoob 0 rabitmq</span><br><span class=\"line\">(integer) 1</span><br><span class=\"line\">127.0.0.1:6379&gt; zadd runoob 0 rabitmq</span><br><span class=\"line\">(integer) 0</span><br><span class=\"line\">127.0.0.1:6379&gt; &gt; ZRANGEBYSCORE runoob 0 1000</span><br><span class=\"line\">1) &quot;mongodb&quot;</span><br><span class=\"line\">2) &quot;rabitmq&quot;</span><br><span class=\"line\">3) &quot;redis&quot;</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"简单命令\"><a href=\"#简单命令\" class=\"headerlink\" title=\"简单命令\"></a>简单命令</h2><ul>\n<li><code>redis-cli -h host -p port -a passord</code>远程连接</li>\n<li><code>INFO</code>获取 redis 服务器的统计信息</li>\n<li><code>CONFIG get requirepass</code>获取密码</li>\n<li><code>redis-benchmark -n 10000 -q</code>性能测试</li>\n</ul>\n<p><strong>安全加固参考</strong><br><strong>_</strong><a href=\"https://my.oschina.net/secscorpio/blog/792885\" target=\"_blank\" rel=\"noopener\">&gt;&gt;&gt;</a>____</p>\n","categories":[],"tags":[{"name":"redis","slug":"redis","count":1,"path":"api/tags/redis.json"}]}